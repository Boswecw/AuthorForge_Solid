/* =====================================================================
   AuthorForge – App CSS entry (Solid)
   ---------------------------------------------------------------------
   Order matters:
   1) Tokens first  → CSS variables available to everything
   2) Tailwind base → preflight + normalize
   3) Your base     → focus/selection/typography defaults
   4) Tailwind components
   5) Your components
   6) Tailwind utilities
   7) Your utilities
   ===================================================================== */

/* All @import statements must come first */
@import './styles/tokens.css';
@import './styles/base.css';
@import './styles/components.css';
@import './styles/utilities.css';

/* ✅ Add TipTap import right after your own base/component layers,
   but before the Tailwind directives */
@import './styles/tiptap.css';

/* Then Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------------------------------------------------------------------
   Optional tiny globals (safe anywhere)
   --------------------------------------------------------------------- */

/* Make dark/light switch hints to the browser for form controls, etc. */
:root {
  color-scheme: light dark;
  /* Global font scale system - default value, overridden by fontScale.ts */
  --font-scale: 1;
}

/* Apply font scaling to html element - affects all rem-based sizing */
html {
  font-size: calc(16px * var(--font-scale));
}

/* Ensure body inherits the scaled font size */
body {
  font-size: 1rem; /* This will be scaled by the html font-size */
}

/* Smooth theme flips without violating reduced-motion preferences. */
.theme-transition * {
  transition: background-color var(--transition-med), color var(--transition-med);
}
@media (prefers-reduced-motion: reduce) {
  .theme-transition * { transition: none !important; }
}

/* Utility to hide content visually but keep it accessible (if you need inline) */
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}
